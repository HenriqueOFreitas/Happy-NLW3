[{"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\App.tsx":"1","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\index.tsx":"2","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\Landing.tsx":"3","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\routes.tsx":"4","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\OrphanagesMap.tsx":"5","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\Orphanage.tsx":"6","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\CreateOrphanage.tsx":"7","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\components\\Sidebar.tsx":"8","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\utils\\mapIcon.ts":"9","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\services\\api.ts":"10"},{"size":197,"mtime":1612118033329,"results":"11","hashOfConfig":"12"},{"size":196,"mtime":1610482066075,"results":"13","hashOfConfig":"12"},{"size":956,"mtime":1611940083331,"results":"14","hashOfConfig":"12"},{"size":732,"mtime":1611941973481,"results":"15","hashOfConfig":"12"},{"size":2731,"mtime":1612189304364,"results":"16","hashOfConfig":"12"},{"size":4126,"mtime":1612226455293,"results":"17","hashOfConfig":"12"},{"size":5872,"mtime":1612316109180,"results":"18","hashOfConfig":"12"},{"size":626,"mtime":1612118204005,"results":"19","hashOfConfig":"12"},{"size":266,"mtime":1612111070186,"results":"20","hashOfConfig":"12"},{"size":122,"mtime":1612154252539,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"x8hgev",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\App.tsx",[],["49","50"],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\index.tsx",[],["51","52"],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\Landing.tsx",[],["53","54"],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\routes.tsx",[],["55","56"],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\OrphanagesMap.tsx",[],["57","58"],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\Orphanage.tsx",[],["59","60"],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\pages\\CreateOrphanage.tsx",["61"],"import React, { ChangeEvent, FormEvent, useState } from \"react\";\nimport { MapContainer, Marker, TileLayer, useMapEvents } from 'react-leaflet';\n\nimport { FiPlus } from \"react-icons/fi\";\n\nimport Sidebar from \"../components/Sidebar\";\nimport mapIcon from \"../utils/mapIcon\";\n\nimport '../styles/pages/create-orphanage.css';\nimport api from \"../services/api\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function CreateOrphanage() {\n  const history = useHistory();\n\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [opening_hours, setOpeningHours] = useState('');\n  const [open_on_weekends, setOpenOnWeekends] = useState(true);\n  const [images, setImages] = useState<File[]>([]);\n  const [previewImages, setPreviewImages] = useState<string[]>([])\n\n  const [ position, setPosition ] = useState({ latitude: 0, longitude: 0 })\n\n  function AddMarkerToClick() {\n\n    const map = useMapEvents({\n      click(event) {\n        const { lat, lng } = event.latlng;\n        setPosition({\n          latitude: lat,\n          longitude: lng,\n        });\n      },\n    });\n\n    return (position.latitude !==0 ? <Marker interactive={false} icon={mapIcon} position={[position.latitude, position.longitude]}/> : null)\n  }\n\n  function handleSelectImages(event: ChangeEvent<HTMLInputElement>) {\n    if(!event.target.files) {\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files)\n\n    setImages(selectedImages);\n\n    const selectedImagesPreview = selectedImages.map(image => {\n      return URL.createObjectURL(image);\n    });\n\n    setPreviewImages(selectedImagesPreview);\n  }\n\n  async function handleSubmit(event: FormEvent) {\n    event.preventDefault();\n\n    const { latitude, longitude } = position;\n\n    const data = new FormData();\n\n    data.append('name', name);\n    data.append('about', about);\n    data.append('latitude', String(latitude));\n    data.append('longitude', String(longitude));\n    data.append('instructions', instructions);\n    data.append('opening_hours', opening_hours);\n    data.append('open_on_weekends', String(open_on_weekends));\n\n    images.forEach(image => {\n      data.append('images', image);\n    })\n\n    await api.post('orphanages', data);\n    alert('Cadastro realizado com sucesso!');\n\n    history.push('/app');\n  }\n\n  return (\n    <div id=\"page-create-orphanage\">\n      <Sidebar />\n\n      <main>\n        <form onSubmit={handleSubmit} className=\"create-orphanage-form\">\n          <fieldset>\n            <legend>Dados</legend>\n\n            <MapContainer \n              center={[-27.2092052,-49.6401092]} \n              style={{ width: '100%', height: 280 }}\n              zoom={15}\n            >\n              <TileLayer \n                url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n              />\n              <AddMarkerToClick />\n            </MapContainer>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input \n                id=\"name\" \n                value={name} \n                onChange={event => setName(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">Sobre <span>Máximo de 300 caracteres</span></label>\n              <textarea \n                id=\"name\" \n                maxLength={300}\n                value={about} \n                onChange={event => setAbout(event.target.value)} \n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos</label>\n\n              <div className=\"images-container\">\n                {previewImages.map(image => {\n                  return (\n                    <img key={image} src={image} alt={name} />\n                  )\n                })}\n\n                <label htmlFor=\"image[]\" className=\"new-image\">\n                  <FiPlus size={24} color=\"#15b6d6\" />\n                </label>\n              </div>\n\n              <input multiple onChange={handleSelectImages} type=\"file\" id=\"image[]\"/>\n            </div>\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea \n                id=\"instructions\"\n                value={instructions} \n                onChange={event => setInstructions(event.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horário de Funcionamento</label>\n              <input \n                id=\"opening_hours\"\n                value={opening_hours} \n                onChange={event => setOpeningHours(event.target.value)} \n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button \n                  type=\"button\" \n                  className={open_on_weekends ? 'active': ''}\n                  onClick={() => setOpenOnWeekends(true)}\n                >\n                  Sim\n                </button>\n                <button \n                  type=\"button\"\n                  className={!open_on_weekends ? 'active' : ''}\n                  onClick={() => setOpenOnWeekends(false)}\n                >\n                  Não\n                </button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\n// return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n","C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\components\\Sidebar.tsx",[],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\utils\\mapIcon.ts",[],"C:\\Users\\henri\\Documents\\WWW\\NLW3\\web\\src\\services\\api.ts",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"62","replacedBy":"66"},{"ruleId":"64","replacedBy":"67"},{"ruleId":"62","replacedBy":"68"},{"ruleId":"64","replacedBy":"69"},{"ruleId":"62","replacedBy":"70"},{"ruleId":"64","replacedBy":"71"},{"ruleId":"62","replacedBy":"72"},{"ruleId":"64","replacedBy":"73"},{"ruleId":"62","replacedBy":"74"},{"ruleId":"64","replacedBy":"75"},{"ruleId":"76","severity":1,"message":"77","line":28,"column":11,"nodeType":"78","messageId":"79","endLine":28,"endColumn":14},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],["80"],["81"],["80"],["81"],["80"],["81"],["80"],["81"],["80"],["81"],"@typescript-eslint/no-unused-vars","'map' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]